{"ast":null,"code":"var _jsxFileName = \"/Users/linkunhan/Desktop/my-project/frontend/src/components/postArticle-component.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport ArticleService from \"../services/article-service\";\nimport \"../css/postArticle.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PostArticleComponent = ({\n  currentUser\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [article, setArticle] = useState({\n    title: \"\",\n    content: \"\"\n  });\n  const [message, setMessage] = useState(\"\");\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      await ArticleService.postArticle(article);\n      setMessage(\"發表成功！\");\n      setTimeout(() => {\n        navigate(\"/communicate\");\n      }, 1500);\n    } catch (error) {\n      setMessage(\"發表失敗，請稍後再試\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post-article-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-article-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"post-article-back-btn\",\n        onClick: () => navigate(\"/article\"),\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-arrow-left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this), \"\\u8FD4\\u56DE\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u767C\\u8868\\u65B0\\u6587\\u7AE0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"post-article-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-article-form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"title\",\n          children: \"\\u6A19\\u984C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"title\",\n          value: article.title,\n          onChange: e => setArticle({\n            ...article,\n            title: e.target.value\n          }),\n          required: true,\n          placeholder: \"\\u8ACB\\u8F38\\u5165\\u6587\\u7AE0\\u6A19\\u984C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-article-form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"content\",\n          children: \"\\u5167\\u5BB9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"content\",\n          value: article.content,\n          onChange: e => setArticle({\n            ...article,\n            content: e.target.value\n          }),\n          required: true,\n          placeholder: \"\\u8ACB\\u8F38\\u5165\\u6587\\u7AE0\\u5167\\u5BB9\",\n          rows: \"10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-article-button-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"post-article-submit-btn\",\n          children: \"\\u767C\\u8868\\u6587\\u7AE0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"post-article-cancel-btn\",\n          onClick: () => navigate(\"/communicate\"),\n          children: \"\\u53D6\\u6D88\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `message ${message.includes(\"成功\") ? \"success\" : \"error\"}`,\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n};\n_s(PostArticleComponent, \"QJ6WZMQRVGgVjPVS87P3XTOfBoE=\", false, function () {\n  return [useNavigate];\n});\n_c = PostArticleComponent;\nexport default PostArticleComponent;\nvar _c;\n$RefreshReg$(_c, \"PostArticleComponent\");","map":{"version":3,"names":["React","useState","useNavigate","ArticleService","jsxDEV","_jsxDEV","PostArticleComponent","currentUser","_s","navigate","article","setArticle","title","content","message","setMessage","handleSubmit","e","preventDefault","postArticle","setTimeout","error","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","value","onChange","target","required","placeholder","rows","includes","_c","$RefreshReg$"],"sources":["/Users/linkunhan/Desktop/my-project/frontend/src/components/postArticle-component.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport ArticleService from \"../services/article-service\";\nimport \"../css/postArticle.css\";\n\nconst PostArticleComponent = ({ currentUser }) => {\n  const navigate = useNavigate();\n  const [article, setArticle] = useState({ title: \"\", content: \"\" });\n  const [message, setMessage] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await ArticleService.postArticle(article);\n      setMessage(\"發表成功！\");\n      setTimeout(() => {\n        navigate(\"/communicate\");\n      }, 1500);\n    } catch (error) {\n      setMessage(\"發表失敗，請稍後再試\");\n    }\n  };\n\n  return (\n    <div className=\"post-article-container\">\n      <div className=\"post-article-header\">\n        <button\n          className=\"post-article-back-btn\"\n          onClick={() => navigate(\"/article\")}\n        >\n          <i className=\"fas fa-arrow-left\"></i>\n          返回\n        </button>\n        <h1>發表新文章</h1>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"post-article-form\">\n        <div className=\"post-article-form-group\">\n          <label htmlFor=\"title\">標題</label>\n          <input\n            type=\"text\"\n            id=\"title\"\n            value={article.title}\n            onChange={(e) => setArticle({ ...article, title: e.target.value })}\n            required\n            placeholder=\"請輸入文章標題\"\n          />\n        </div>\n\n        <div className=\"post-article-form-group\">\n          <label htmlFor=\"content\">內容</label>\n          <textarea\n            id=\"content\"\n            value={article.content}\n            onChange={(e) =>\n              setArticle({ ...article, content: e.target.value })\n            }\n            required\n            placeholder=\"請輸入文章內容\"\n            rows=\"10\"\n          />\n        </div>\n\n        <div className=\"post-article-button-group\">\n          <button type=\"submit\" className=\"post-article-submit-btn\">\n            發表文章\n          </button>\n          <button\n            type=\"button\"\n            className=\"post-article-cancel-btn\"\n            onClick={() => navigate(\"/communicate\")}\n          >\n            取消\n          </button>\n        </div>\n      </form>\n\n      {message && (\n        <div\n          className={`message ${\n            message.includes(\"成功\") ? \"success\" : \"error\"\n          }`}\n        >\n          {message}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PostArticleComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}